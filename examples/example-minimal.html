<!DOCTYPE html>

<html>
	<body>
		<script src="../libs/three.min.js"></script>
		<script src="../mannequin.js"></script>
		
		<script>
			
			createScene();
			man = new Male();
			
			
			// 마우스 다운 이벤트 리스너 추가
			renderer.domElement.addEventListener('mousedown', onMouseDown);
			
			function onMouseDown(event) {
				// 왼쪽 마우스 버튼이 눌렸을 때
				if (event.button === 0) {
					// 클릭한 좌표를 가져옴
					const mouse = new THREE.Vector2();
					mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
					mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

					// 클릭한 좌표를 모델 좌표 공간으로 변환
					const raycaster = new THREE.Raycaster();
					raycaster.setFromCamera(mouse, camera);

					// 모델과의 교차점 계산
					const intersects = raycaster.intersectObject(man, true);

					if (intersects.length > 0) {
						// 클릭한 파츠를 식별
						const clickedPart = identifyClickedPart(intersects[0].object);

						// 클릭한 파츠의 가시성을 토글
						clickedPart.visible = !clickedPart.visible;
					}
				}
			}

			// 클릭한 파츠 식별 함수
			function identifyClickedPart(object) {
				// 여기에서 object를 분석하여 클릭한 파츠를 식별
				// 예: object.name 또는 다른 속성을 사용하여 식별
				// 필요한 경우 각 파츠에 고유한 이름 또는 속성을 지정하십시오.
				// 예: man.l_leg.name = "left_leg" 등
				return object; // 클릭한 파츠 반환
			}
		</script>
	</body>
</html>
